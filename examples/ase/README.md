<style>
  p {
    text-align: justify;
  }
</style>
The new version of PFD-kit introduces enhanced functionality with integration of the ASE package, enabling support for mainstream MLIP frameworks like MatterSim and MACE. It incorporates an entropy-based filter to improve data efficiency and offers seamless deployment both locally and on computing clusters, making it a versatile tool for advanced atomic simulations.

# Quick Start
## Installation
```bash
git clone https://github.com/ruoyuwang1995nya/pfd-kit.git && cd pfd-kit && pip install . 
```

A simple example of finetuning a Deep Potential for cubic Si is demonstrated.  
## Prepare structure files
The initial structures for exploration can be generated by perturbing a single frame of cubic Si, stored at `si_single.extxyz`. It could be in any ase-compatible format.
```bash
pfd perturb -n 10 si_single.extxyz -c 0.03
``` 
Ten new Si frames is generated, and stored in `pert_si_single.extxyz`.

## Submit workflow
To submit a workflow, navigate to the working directory and run:

```bash
pfd submit input.json
```

`input.json` contains workflow definitions. The workflow ID will be printed upon successful submission. In this example, several input parameter file for finetuning and distillation is provided.

### Local deployment
The workflow would run locally, i.e., all dependencies must be installed in local environment.
```bash
export DFLOW_MODE='debug'&&pfd submit ft_local.json
```

### Local deployment with Bohrium remote executor
The workflow would run locally, but resource-consuming steps such as first-principle calculations can be submitted to remote servers at Bohrium platform.

```bash
export DFLOW_MODE='debug'&&export DFLOW_DEBUG_COPY_METHOD='copy'&&pfd submit ft_local_bohr_executor.json
```

### Local deployment with Slurm executor
The workflow would run locally, but resource-consuming steps such as first-principle calculations can be submitted to remote Slurm clusters.

```bash
export DFLOW_MODE='debug'&&export DFLOW_DEBUG_COPY_METHOD='copy'&& pfd submit ft_local_slurm_executor.json
```

### Cloud-based deployment (Bohrium)
The workflow would be submitted to the Kubernete server maintained by the Bohrium platform. In this case, visualization of the workflow is availiable [here](https://workflows.deepmodeling.com).

```bash
pfd submit ft_bohr.json
```
